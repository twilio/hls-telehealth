"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[651],{4497:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(5893),i=t(7294);var o=t(1438),a=t(8847);function c(){var e=function(){var e=(0,i.useState)({audioInputDevices:[],videoInputDevices:[],audioOutputDevices:[],hasAudioInputDevices:!1,hasVideoInputDevices:!1}),n=e[0],t=e[1];return(0,i.useEffect)((function(){var e=function(){return(0,a.dz)().then((function(e){return t(e)}))};return navigator.mediaDevices.addEventListener("devicechange",e),e(),function(){navigator.mediaDevices.removeEventListener("devicechange",e)}}),[]),n}().audioOutputDevices,n=(0,i.useState)("default"),t=n[0],r=n[1],c=(0,i.useCallback)((function(e){window.localStorage.setItem(o.j4,e),r(e)}),[]);return(0,i.useEffect)((function(){var n=window.localStorage.getItem(o.j4);e.some((function(e){return n&&e.deviceId===n}))&&r(n)}),[e]),[t,c]}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e){var n=e.track,t=u(c(),1)[0],r=(0,i.useRef)();return(0,i.useEffect)((function(){return r.current=n.attach(),r.current.setAttribute("data-cy-audio-track-name",n.name),document.body.appendChild(r.current),function(){return n.detach().forEach((function(e){e.remove(),e.srcObject=null}))}}),[n]),(0,i.useEffect)((function(){var e,n;null===(e=r.current)||void 0===e||null===(n=e.setSinkId)||void 0===n||n.call(e,t)}),[t]),null}var s=t(4709);function f(e){var n=e.publication,t=e.isLocalParticipant,o=e.videoOnly,a=e.videoPriority,c=function(e){var n=(0,i.useState)(e&&e.track),t=n[0],r=n[1];return(0,i.useEffect)((function(){if(r(e&&e.track),e){var n=function(){return r(null)};return e.on("subscribed",r),e.on("unsubscribed",n),function(){e.off("subscribed",r),e.off("unsubscribed",n)}}}),[e]),t}(n);if(!c)return null;switch(c.kind){case"video":return(0,r.jsx)(s.Z,{track:c,priority:a,isLocal:c.name.includes("camera")&&t});case"audio":return o?null:(0,r.jsx)(l,{track:c});default:return null}}function d(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(e){var n,t=e.participant,o=e.videoOnly,a=e.enableScreenShare,c=e.videoPriority,u=e.isLocalParticipant,l=function(e){var n=(0,i.useState)([]),t=n[0],r=n[1];return(0,i.useEffect)((function(){r(Array.from(e.tracks.values()));var n=function(e){return r((function(n){return d(n).concat([e])}))},t=function(e){return r((function(n){return n.filter((function(n){return n!==e}))}))};return e.on("trackPublished",n),e.on("trackUnpublished",t),function(){e.off("trackPublished",n),e.off("trackUnpublished",t)}}),[e]),t}(t);return n=a&&l.some((function(e){return e.trackName.includes("screen")}))?l.filter((function(e){return!e.trackName.includes("camera")})):l.filter((function(e){return!e.trackName.includes("screen")})),(0,r.jsx)(r.Fragment,{children:n.map((function(e){return(0,r.jsx)(f,{publication:e,participant:t,isLocalParticipant:u,videoOnly:o,videoPriority:c},e.kind)}))})}},4709:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(5893),i=t(7294);function o(e){var n,t,o=e.track,a=e.isLocal,c=e.priority,u=(0,i.useRef)(null),l=function(e){var n=(0,i.useState)(null===e||void 0===e?void 0:e.mediaStreamTrack),t=n[0],r=n[1];return(0,i.useEffect)((function(){if(r(null===e||void 0===e?void 0:e.mediaStreamTrack),e){var n=function(){return r(e.mediaStreamTrack)};return e.on("started",n),function(){e.off("started",n)}}}),[e]),t}(o),s=function(e){var n=(0,i.useState)(null===e||void 0===e?void 0:e.dimensions),t=n[0],r=n[1];return(0,i.useEffect)((function(){if(r(null===e||void 0===e?void 0:e.dimensions),e){var n=function(e){return r({width:e.dimensions.width,height:e.dimensions.height})};return e.on("dimensionsChanged",n),function(){e.off("dimensionsChanged",n)}}}),[e]),t}(o),f=(null!==(n=null===s||void 0===s?void 0:s.height)&&void 0!==n?n:0)>(null!==(t=null===s||void 0===s?void 0:s.width)&&void 0!==t?t:0);(0,i.useEffect)((function(){var e=u.current;return e.muted=!0,o.setPriority&&c&&o.setPriority(c),o.attach(e),function(){o.detach(e),e.srcObject=null,o.setPriority&&c&&o.setPriority(null)}}),[o,c]);var d="environment"!==(null===l||void 0===l?void 0:l.getSettings().facingMode),v={transform:a&&d?"rotateY(180deg)":"",objectFit:f||o.name.includes("screen")?"contain":"cover"};return(0,r.jsx)("video",{ref:u,style:v})}},4291:function(e,n,t){t.d(n,{lR:function(){return x},ZP:function(){return O}});var r=t(5893),i=t(7294),o=(0,i.createContext)(null);function a(e){var n=e.room,t=e.children,a=(0,i.useState)(null),c=a[0],u=a[1];return(0,i.useEffect)((function(){if(n){var e=function(){return u(null)},t=function(e){return u((function(n){return n===e?null:n}))};return n.on("disconnected",e),n.on("participantDisconnected",t),function(){n.off("disconnected",e),n.off("participantDisconnected",t)}}}),[n]),(0,r.jsx)(o.Provider,{value:[c,function(e){return u((function(n){return n===e?null:e}))}],children:t})}var c=t(5666),u=t.n(c),l=t(1438),s=t(8847),f=t(8445),d=t.n(f);function v(e,n,t,r,i,o,a){try{var c=e[o](a),u=c.value}catch(l){return void t(l)}c.done?n(u):Promise.resolve(u).then(r,i)}function p(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){v(o,r,i,a,c,"next",e)}function c(e){v(o,r,i,a,c,"throw",e)}a(void 0)}))}}function m(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){m(e,n,t[n])}))}return e}function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function y(e,n,t){var r=(0,i.useState)(null),o=r[0],a=r[1],c=(0,i.useState)(!1),u=c[0],l=c[1],f=(0,i.useRef)(t);return(0,i.useEffect)((function(){window.TwilioVideo||(window.TwilioVideo=d()),f.current=t}),[t]),{room:o,isConnecting:u,connect:(0,i.useCallback)((function(t){return l(!0),d().connect(t,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){h(e,n,t[n])}))}return e}({},f.current,{tracks:e})).then((function(e){a(e);var n=function(){return e.disconnect()};e.setMaxListeners(15),e.once("disconnected",(function(){setTimeout((function(){return a(null)})),window.removeEventListener("beforeunload",n),s.tq&&window.removeEventListener("pagehide",n)})),window.twilioRoom=e,e.localParticipant.videoTracks.forEach((function(e){return e.setPriority("low")})),l(!1),window.addEventListener("beforeunload",n),s.tq&&window.addEventListener("pagehide",n)}),(function(e){n(e),l(!1)}))}),[e,n])}}var g=t(4155);var w=t(1582);function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var x=(0,i.createContext)(null);function j(e){var n=e.options,t=e.children,o=e.onError,c=void 0===o?function(){}:o,f=(0,i.useCallback)((function(e){console.log("ERROR: ".concat(e.message),e),c(e)}),[c]),v=function(){var e=(0,i.useState)(),n=e[0],t=e[1],r=(0,i.useState)(),o=r[0],a=r[1],c=(0,i.useState)(!1),f=c[0],v=c[1],m=(0,i.useCallback)((function(e){var n={};return e&&(n.deviceId={exact:e}),d().createLocalAudioTrack(n).then((function(e){return t(e),e}))}),[]),h=(0,i.useCallback)(p(u().mark((function e(){var n,t,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage.getItem(l.p8),e.next=3,(0,s.dz)();case 3:return t=e.sent.videoInputDevices,r=t.some((function(e){return n&&e.deviceId===n})),i=b({},l.lA,{name:"camera-".concat(Date.now())},r&&{deviceId:{exact:n}}),e.abrupt("return",d().createLocalVideoTrack(i).then((function(e){return a(e),e})));case 7:case"end":return e.stop()}}),e)}))),[]),y=(0,i.useCallback)((function(){n&&(n.stop(),t(void 0))}),[n]),g=(0,i.useCallback)((function(){o&&(o.stop(),a(void 0))}),[o]),w=(0,i.useCallback)(p(u().mark((function e(){var r,i,c,p,m,h,y,g,w,k,x,j;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.dz)();case 2:var u;if(u=e.sent,r=u.audioInputDevices,i=u.videoInputDevices,c=u.hasAudioInputDevices,p=u.hasVideoInputDevices,c||p){e.next=5;break}return e.abrupt("return",Promise.resolve());case 5:if(!(f||n||o)){e.next=7;break}return e.abrupt("return",Promise.resolve());case 7:return v(!0),m=window.localStorage.getItem(l.J$),h=window.localStorage.getItem(l.p8),y=r.some((function(e){return m&&e.deviceId===m})),g=i.some((function(e){return h&&e.deviceId===h})),e.next=14,(0,s.$l)("camera");case 14:return w=e.sent,e.next=17,(0,s.$l)("microphone");case 17:return k=e.sent,x=c&&!k,j={video:p&&!w&&b({},l.lA,{name:"camera-".concat(Date.now())},g&&{deviceId:{exact:h}}),audio:x&&(y?{deviceId:{exact:m}}:c)},e.abrupt("return",d().createLocalTracks(j).then((function(e){var n,r=e.find((function(e){return"video"===e.kind})),i=e.find((function(e){return"audio"===e.kind}));if(r&&(a(r),window.localStorage.setItem(l.p8,null!==(n=r.mediaStreamTrack.getSettings().deviceId)&&void 0!==n?n:"")),i&&t(i),w&&k){var o=new Error;throw o.name="NotAllowedError",o}if(w)throw new Error("CameraPermissionsDenied");if(k)throw new Error("MicrophonePermissionsDenied")})).finally((function(){return v(!1)})));case 22:case"end":return e.stop()}}),e)}))),[n,o,f]);return{localTracks:[n,o].filter((function(e){return void 0!==e})),getLocalVideoTrack:h,getLocalAudioTrack:m,isAcquiringLocalTracks:f,removeLocalAudioTrack:y,removeLocalVideoTrack:g,getAudioAndVideoTracks:w}}(),m=v.localTracks,h=v.getLocalVideoTrack,g=v.getLocalAudioTrack,w=v.isAcquiringLocalTracks,j=v.removeLocalAudioTrack,O=v.removeLocalVideoTrack,S=v.getAudioAndVideoTracks,P=y(m,f,n),A=P.room,N=P.isConnecting,C=P.connect,T=k(function(e,n){var t=(0,i.useState)(!1),r=t[0],o=t[1],a=(0,i.useRef)(null),c=(0,i.useCallback)((function(){navigator.mediaDevices.getDisplayMedia({audio:!1,video:{frameRate:10,height:1080,width:1920}}).then((function(t){var r=t.getTracks()[0];e.localParticipant.publishTrack(r,{name:"screen",priority:"low"}).then((function(n){a.current=function(){e.localParticipant.unpublishTrack(r),e.localParticipant.emit("trackUnpublished",n),r.stop(),o(!1)},r.onended=a.current,o(!0)})).catch(n)})).catch((function(e){"AbortError"!==e.name&&"NotAllowedError"!==e.name&&n(e)}))}),[e,n]),u=(0,i.useCallback)((function(){e&&(r?a.current():c())}),[r,c,e]);return[r,u]}(A,c),2),E=T[0],I=T[1];!function(e,n,t,r,o,a){(0,i.useEffect)((function(){if(e){var i=function(e,i){i&&n(i),t(),r(),o&&a()};return e.on("disconnected",i),function(){e.off("disconnected",i)}}}),[e,n,t,r,o,a])}(A,c,j,O,E,I),function(e,n){(0,i.useEffect)((function(){if(e)return e.localParticipant.on("trackPublicationFailed",n),function(){e.localParticipant.off("trackPublicationFailed",n)}}),[e,n])}(A,c),function(e){var n=e.find((function(e){return"audio"===e.kind}));(0,i.useEffect)((function(){var e=function(){"ended"===(null===n||void 0===n?void 0:n.mediaStreamTrack.readyState)&&n.restart({})};return navigator.mediaDevices.addEventListener("devicechange",e),function(){navigator.mediaDevices.removeEventListener("devicechange",e)}}),[n])}(m);var D=(0,i.useState)(!1),L=D[0],V=D[1];m.find((function(e){return e.name.includes("camera")}));return(0,r.jsx)(x.Provider,{value:{room:A,localTracks:m,isConnecting:N,onError:f,getLocalVideoTrack:h,getLocalAudioTrack:g,connect:C,isAcquiringLocalTracks:w,removeLocalVideoTrack:O,isSharingScreen:E,toggleScreenShare:I,getAudioAndVideoTracks:S,isBackgroundSelectionOpen:L,setIsBackgroundSelectionOpen:V},children:(0,r.jsx)(a,{room:A,children:t})})}var O=function(e){var n=function(){var e,n=(0,i.useState)(l.DF),t=n[0],r=(n[1],{bandwidthProfile:{video:{mode:t.bandwidthProfileMode,dominantSpeakerPriority:t.dominantSpeakerPriority,trackSwitchOffMode:t.trackSwitchOffMode,contentPreferencesMode:t.contentPreferencesMode,clientTrackSwitchOffControl:t.clientTrackSwitchOffControl}},dominantSpeaker:!0,networkQuality:{local:1,remote:1},maxAudioBitrate:Number(t.maxAudioBitrate),preferredVideoCodecs:[{codec:"VP8",simulcast:"peer-to-peer"!==t.roomType&&"go"!==t.roomType}],environment:g.env.REACT_APP_TWILIO_ENVIRONMENT});return s.tq&&(null===r||void 0===r||null===(e=r.bandwidthProfile)||void 0===e?void 0:e.video)&&(r.bandwidthProfile.video.maxSubscriptionBitrate=25e5),"dev"===g.env.REACT_APP_TWILIO_ENVIRONMENT&&(r.wsServer="wss://us2.vss.dev.twilio.com/signaling"),(0,s.po)(r)}();return(0,r.jsx)(w.KX,{children:(0,r.jsx)(j,{options:n,onError:function(e){return console.log(e)},children:e.children})})}},1356:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(7294),i=t(5428);function o(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(){var e,n=(0,i.Z)().room,t=function(){var e,n=(0,i.Z)().room,t=(0,r.useState)(null!==(e=null===n||void 0===n?void 0:n.dominantSpeaker)&&void 0!==e?e:null),o=t[0],a=t[1];return(0,r.useEffect)((function(){if(n){var e=function(e){null!==e&&a(e)},t=function(e){a((function(n){return n===e?null:n}))};return n.on("dominantSpeakerChanged",e),n.on("participantDisconnected",t),function(){n.off("dominantSpeakerChanged",e),n.off("participantDisconnected",t)}}}),[n]),o}(),a=(0,r.useState)(Array.from(null!==(e=null===n||void 0===n?void 0:n.participants.values())&&void 0!==e?e:[])),c=a[0],u=a[1];return(0,r.useEffect)((function(){t&&u((function(e){return[t].concat(o(e.filter((function(e){return e!==t}))))}))}),[t]),(0,r.useEffect)((function(){if(n){var e=function(e){return u((function(n){return o(n).concat([e])}))},t=function(e){return u((function(n){return n.filter((function(n){return n!==e}))}))};return n.on("participantConnected",e),n.on("participantDisconnected",t),function(){n.off("participantConnected",e),n.off("participantDisconnected",t)}}}),[n]),c}},5428:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(7294),i=t(4291);function o(){var e=(0,r.useContext)(i.lR);if(!e)throw new Error("useVideoContext must be used within a VideoProvider");return e}},6419:function(e,n,t){t.d(n,{z:function(){return f},W:function(){return r}});var r,i,o=t(5893),a=t(1664),c=t(8847),u=t(9716);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(i=r||(r={})).primary="primary",i.secondary="secondary",i.tertiary="tertiary",i.link="link";var f=function(e){var n=e.as,t=void 0===n?"button":n,i=e.children,f=e.icon,d=e.iconClassName,v=e.iconType,p=e.variant,m=void 0===p?r.primary:p,b=e.loading,h=e.disabled,y=e.outline,g=s(e,["as","children","icon","iconClassName","iconType","variant","loading","disabled","outline"]),w=h||b,k=(0,c.WM)("p-2 focus:outline-none border-2 disabled:opacity-40 disabled:cursor-not-allowed",y?function(e){return["bg-white",{primary:"text-button-primary border-button-primary",secondary:"text-button-secondary border-button-secondary",tertiary:"text-button-tertiary border-button-tertiary",link:"text-button-link border-button-link"}[e]].join(" ")}(m):function(e){return["text-white",{primary:"bg-button-primary border-button-primary",secondary:"bg-button-secondary border-button-secondary",tertiary:"bg-button-tertiary border-button-tertiary",link:"bg-button-link border-button-link"}[e]].join(" ")}(m),w?null:y?function(e){return["hover:text-white",{primary:"hover:bg-button-primary",secondary:"hover:bg-button-secondary",tertiary:"hover:bg-button-tertiary",link:"hover:bg-button-link"}[e]].join(" ")}(m):function(e){return["hover:bg-white",{primary:"hover:text-button-primary",secondary:"hover:text-button-secondary",tertiary:"hover:text-button-tertiary",link:"hover:text-button-link"}[e]].join(" ")}(m),f?"flex items-center rounded-full":"rounded-md",g.className),x=f?(0,o.jsx)(u.J,{name:f,outline:"outline"===v,className:d}):i;return"a"===t?(0,o.jsx)(a.default,{href:g.href,passHref:!0,children:(0,o.jsx)("a",{className:k,children:x})}):(0,o.jsx)("button",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}({},g,{className:k,children:x}))}},8986:function(e,n,t){t.d(n,{e:function(){return d}});var r=t(5893),i=t(7294),o=t(6419),a=t(9716),c=t(8847),u=function(e){var n=e.content,t=e.isProvider,i=e.name;return(0,r.jsxs)("div",{className:(0,c.WM)("mb-5",!t&&"text-right"),children:[(0,r.jsx)("div",{className:"text-sm text-secondary mb-3",children:i}),(0,r.jsx)("span",{className:(0,c.WM)("p-2 rounded-md",t?"bg-primary text-white":"bg-light"),children:n})]})};function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f="Sarah Cooper",d=function(e){var n=e.close,t=e.inputPlaceholder,c=e.showHeader,d=(0,i.useRef)(null),v=(0,i.useState)(""),p=v[0],m=v[1],b=(0,i.useState)([{name:"Dr. Josefina Santos",isProvider:!0,content:"Any symptoms?"},{name:f,isProvider:!1,content:"Just a mild fever of 99.7"}]),h=b[0],y=b[1];return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"relative flex flex-col items-center h-full w-full",children:[c&&(0,r.jsxs)("div",{className:"relative bg-primary text-white rounded-t p-2 text-center w-full",children:["Chat with ",f,n&&(0,r.jsx)("button",{className:"absolute right-3",type:"button",onClick:n,children:(0,r.jsx)(a.J,{name:"close"})})]}),(0,r.jsx)("div",{className:"bg-white flex-grow w-full p-3 overflow-auto pb-16",children:h.map((function(e,n){return(0,r.jsx)(u,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}({},e),n)}))}),(0,r.jsx)("div",{className:"absolute bottom-0 bg-white w-full p-3",children:(0,r.jsxs)("form",{className:"flex justify-center items-center",onSubmit:function(e){e.preventDefault(),y(s(h).concat([{name:f,isProvider:!1,content:p}])),m("")},children:[(0,r.jsxs)("div",{className:"pr-2",children:[(0,r.jsx)(o.z,{type:"button",className:"bg-white text-primary border-0",icon:"file_upload",iconType:"outline",onClick:function(){var e;return null===d||void 0===d||null===(e=d.current)||void 0===e?void 0:e.click()}}),(0,r.jsx)("input",{ref:d,className:"hidden",type:"file"})]}),(0,r.jsx)("div",{className:"flex-grow",children:(0,r.jsx)("input",{className:"bg-[#F4F4F4] rounded-[4.5em] p-2 px-4 w-full",type:"text",placeholder:t,value:p,onChange:function(e){return m(e.target.value)}})})]})})]})})}},9738:function(e,n,t){t.d(n,{N:function(){return a}});var r=t(5893),i=(t(7294),t(6419)),o=t(9891),a=function(e){var n=e.close,t=e.isVisible;return(0,r.jsxs)(o.u,{backdropClick:n,isVisible:t,children:[(0,r.jsx)("p",{className:"my-4 text-center text-primary",children:"You\u2019re experiencing connnection issues"}),(0,r.jsxs)("div",{className:"my-2 text-center",children:[(0,r.jsx)(i.z,{className:"my-1 w-full max-w-[250px]",onClick:n,children:"Switch to Phone Consultation"}),(0,r.jsx)(i.z,{className:"my-1 w-full max-w-[250px]",variant:i.W.secondary,outline:!0,onClick:n,children:"Continue with Video Visit"})]})]})}},9783:function(e,n,t){t.d(n,{X:function(){return i}});var r=t(5893),i=function(e){var n=e.children;return(0,r.jsx)("h1",{className:"my-3 text-2xl text-center text-primary whitespace-pre-wrap",children:n})}},9716:function(e,n,t){t.d(n,{J:function(){return o}});var r=t(5893),i=t(8847),o=function(e){var n=e.className,t=e.name,o=e.outline;return(0,r.jsx)("span",{className:(0,i.WM)(o?"material-icons-outlined":"material-icons",n),children:t})}},8498:function(e,n,t){t.d(n,{I:function(){return c}});var r=t(5893),i=t(8847);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=function(e){var n=e.className,t=e.isDark,c=e.name,u=e.register,l=e.registerOptions,s=a(e,["className","isDark","name","register","registerOptions"]),f=(0,i.WM)("px-3 py-2 border rounded-md",t?"bg-black border-dark":"border-light",n);return(0,r.jsx)("input",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({className:f},u?u(c,l):{},s))}},9891:function(e,n,t){t.d(n,{u:function(){return o}});var r=t(5893),i=t(8847),o=function(e){var n=e.backdropClassName,t=void 0===n?"bg-[#000000BF]":n,o=e.backdropClick,a=e.backgroundClassName,c=void 0===a?"bg-white":a,u=e.children,l=e.isVisible,s=e.modalStyle;return l&&(0,r.jsx)("div",{className:(0,i.WM)("fixed inset-0 z-50 overflow-auto flex items-center justify-center",t),onClick:o,children:(0,r.jsx)("div",{className:(0,i.WM)("relative w-full mx-10 max-w-sm m-auto rounded-lg",c),style:s,onClick:function(e){e.stopPropagation()},children:u})})}},7871:function(e,n,t){t.d(n,{O:function(){return i}});var r=t(5893),i=function(e){var n=e.className;return e.inverted?(0,r.jsx)("img",{className:n,src:"/powered-by-twilio-white.svg",width:126,height:19}):(0,r.jsx)("img",{className:n,src:"/powered-by-twilio.svg",width:150,height:40})}},1321:function(e,n,t){t.d(n,{P:function(){return c}});var r=t(5893),i=t(8847);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=function(e){var n,t,c=e.className,u=e.isDark,l=e.name,s=e.options,f=e.placeholder,d=e.register,v=e.registerOptions,p=void 0===v?{}:v,m=a(e,["className","isDark","name","options","placeholder","register","registerOptions"]);return(0,r.jsxs)("select",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({className:(0,i.WM)("px-3 py-2 border border-light rounded-md text-dark",u&&"bg-black border-dark",c)},d?d(l,p):{},m,{children:[f&&(0,r.jsx)("option",{value:"",children:f}),s.map((function(e){return(0,r.jsx)("option",{value:e.value,children:null!==(n=e.label)&&void 0!==n?n:e.value},null!==(t=e.label)&&void 0!==t?t:e.value)}))]}))}},7872:function(e,n,t){t.d(n,{H:function(){return c}});var r=t(5893),i=t(7294),o=t(8847),a=t(6419),c=function(e){var n=e.containerClass,t=e.addParticipant,c=e.flipCamera,u=e.toggleAudio,l=e.toggleChat,s=e.toggleScreenShare,f=e.toggleSettings,d=e.toggleVideo,v="mx-1.5";(0,i.useRef)();return(0,r.jsxs)("div",{className:(0,o.WM)("mx-auto flex px-2 py-4 justify-between",n),children:[t&&(0,r.jsx)(a.z,{className:v,icon:"person_add",variant:a.W.tertiary,onClick:t}),l&&(0,r.jsx)(a.z,{className:v,icon:"chat_bubble_outline",variant:a.W.tertiary,onClick:l}),s&&(0,r.jsx)(a.z,{className:v,icon:"present_to_all",variant:a.W.tertiary,onClick:s}),d&&(0,r.jsx)(a.z,{className:v,icon:"videocam",variant:a.W.tertiary,onClick:d}),u&&(0,r.jsx)(a.z,{className:v,icon:"mic",variant:a.W.tertiary,onClick:u}),c&&(0,r.jsx)(a.z,{className:v,icon:"flip_camera_ios",variant:a.W.tertiary,onClick:c}),f&&(0,r.jsx)(a.z,{className:v,icon:"settings",iconType:"outline",variant:a.W.tertiary,onClick:f}),(0,r.jsx)(a.z,{className:v,as:"a",href:"/patient/video/disconnected",icon:"call_end"})]})}},1438:function(e,n,t){t.d(n,{lA:function(){return r},J$:function(){return i},j4:function(){return o},p8:function(){return a},sL:function(){return c},LX:function(){return u},bo:function(){return l},DF:function(){return s}});var r={width:1280,height:720,frameRate:24},i="TwilioVideoApp-selectedAudioInput",o="TwilioVideoApp-selectedAudioOutput",a="TwilioVideoApp-selectedVideoInput",c="TelehealthUser",u="TelehealthVisit",l="CurrentVisitId",s={trackSwitchOffMode:void 0,dominantSpeakerPriority:"standard",bandwidthProfileMode:"collaboration",maxAudioBitrate:"16000",contentPreferencesMode:"auto",clientTrackSwitchOffControl:"auto",roomType:"group"}},1502:function(e,n){n.Z={getFromStorage:function(e,n){try{var t=window.localStorage.getItem(e);if(t){var r=JSON.parse(t);return Promise.resolve(r)}}catch(i){return console.log(i),Promise.resolve(n)}},saveToStorage:function(e,n){return null==n?window.localStorage.removeItem(e):window.localStorage.setItem(e,JSON.stringify(n)),Promise.resolve()}}},1582:function(e,n,t){t.d(n,{KX:function(){return l},R:function(){return s}});var r=t(5893),i=t(7294),o=t(1438),a={name:"Guest",isAuthenticated:!1,role:"guest",token:null},c=t(1502),u=(0,i.createContext)(null);function l(e){var n=(0,i.useState)(a),t=n[0],l=n[1],s=(0,i.useState)(null),f=s[0],d=s[1];return(0,i.useEffect)((function(){c.Z.getFromStorage(o.sL,a).then((function(e){if(e!==a)return l(e),c.Z.getFromStorage(o.LX)})).then((function(e){return d(e)}))}),[l,d]),(0,r.jsx)(u.Provider,{value:{user:t,visit:f,setVisit:d},children:e.children})}function s(){var e=(0,i.useContext)(u);if(!e)throw new Error("useVisitContext must be used within the VisitContextProvider");return e}},8847:function(e,n,t){t.d(n,{tq:function(){return l},po:function(){return s},dz:function(){return d},$l:function(){return p},WM:function(){return m},aK:function(){return b},CU:function(){return h},_D:function(){return y},G3:function(){return g},xv:function(){return w}});var r=t(5666),i=t.n(r),o=t(5299),a=t.n(o);function c(e,n,t,r,i,o,a){try{var c=e[o](a),u=c.value}catch(l){return void t(l)}c.done?n(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){c(o,r,i,a,u,"next",e)}function u(e){c(o,r,i,a,u,"throw",e)}a(void 0)}))}}var l="undefined"!==typeof navigator&&"string"===typeof navigator.userAgent&&/Mobile/.test(navigator.userAgent);function s(e){if(!a()(e))return e;var n={};for(var t in e){var r=e[t];"undefined"!==typeof r&&(n[t]=s(r))}return n}function f(){return(f=u(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:return n=e.sent,e.abrupt("return",{audioInputDevices:n.filter((function(e){return"audioinput"===e.kind})),videoInputDevices:n.filter((function(e){return"videoinput"===e.kind})),audioOutputDevices:n.filter((function(e){return"audiooutput"===e.kind})),hasAudioInputDevices:n.some((function(e){return"audioinput"===e.kind})),hasVideoInputDevices:n.some((function(e){return"videoinput"===e.kind}))});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return f.apply(this,arguments)}function v(){return(v=u(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.permissions){e.next=13;break}return e.prev=1,e.next=4,navigator.permissions.query({name:n});case 4:return t=e.sent,e.abrupt("return","denied"===t.state);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",!1);case 11:e.next=14;break;case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function p(e){return v.apply(this,arguments)}function m(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(Boolean).join(" ")}var b=/^[A-Za-z]+$/i,h=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,y=/^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/,g=/^\d{5}$/,w=["AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY"]}}]);
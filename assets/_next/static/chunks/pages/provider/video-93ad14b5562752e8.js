(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{24234:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/provider/video",function(){return r(40037)}])},855:function(e,n,r){"use strict";r.d(n,{Z:function(){return a}});var o=r(67294),t=r(48847),i=r(1438),c=r(34155);function a(){var e,n=(0,o.useState)(i.DF),r=n[0],a=(n[1],{bandwidthProfile:{video:{mode:r.bandwidthProfileMode,dominantSpeakerPriority:r.dominantSpeakerPriority,trackSwitchOffMode:r.trackSwitchOffMode,contentPreferencesMode:r.contentPreferencesMode,clientTrackSwitchOffControl:r.clientTrackSwitchOffControl}},dominantSpeaker:!0,networkQuality:{local:1,remote:1},maxAudioBitrate:Number(r.maxAudioBitrate),preferredVideoCodecs:[{codec:"VP8",simulcast:"peer-to-peer"!==r.roomType&&"go"!==r.roomType}],environment:c.env.REACT_APP_TWILIO_ENVIRONMENT});return t.tq&&(null===a||void 0===a||null===(e=a.bandwidthProfile)||void 0===e?void 0:e.video)&&(a.bandwidthProfile.video.maxSubscriptionBitrate=25e5),"dev"===c.env.REACT_APP_TWILIO_ENVIRONMENT&&(a.wsServer="wss://us2.vss.dev.twilio.com/signaling"),(0,t.po)(a)}},31368:function(e,n,r){"use strict";var o=r(85893),t=r(67294),i=r(50784),c=r(855),a=r(51582),u=r(15428),d=r(8225);function s(e){var n=(0,a.R)().user,r=(0,u.Z)(),i=r.getAudioAndVideoTracks,c=r.localTracks,d=(0,t.useState)(),s=d[0],f=d[1];return(0,t.useEffect)((function(){s||i().catch((function(e){console.log("Error acquiring local media:"),console.dir(e),f(e)}))}),[i,s]),n&&c&&c.length>0&&(0,o.jsx)(o.Fragment,{children:e.children})}n.Z=function(e){var n=(0,c.Z)();return(0,o.jsx)(a.KX,{children:(0,o.jsx)(i.Z,{options:n,onError:function(e){return console.log(e)},children:(0,o.jsx)(s,{children:(0,o.jsx)(d.a,{children:e.children})})})})}},40037:function(e,n,r){"use strict";r.r(n);var o=r(35666),t=r.n(o),i=r(85893),c=r(67294),a=r(15428),u=r(16232),d=r(51582),s=r(11163),f=r(36539),l=r(51502),v=r(1438),h=r(31368),m=r(610);function p(e,n,r,o,t,i,c){try{var a=e[i](c),u=a.value}catch(d){return void r(d)}a.done?n(u):Promise.resolve(u).then(o,t)}var w=function(){var e=(0,d.R)().user,n=(0,a.Z)(),r=n.connect,o=n.room,h=(0,m.Z)().connect,w=(0,s.useRouter)();return(0,c.useEffect)((function(){o||l.Z.getFromStorage(v.bo).then((function(n){var o;f.G.createRoom(e,n).then((o=t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.roomAvailable||w.push("/provider/dashboard"),h(n.token),r(n.token);case 3:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,t){var i=o.apply(e,n);function c(e){p(i,r,t,c,a,"next",e)}function a(e){p(i,r,t,c,a,"throw",e)}c(void 0)}))}))}))}),[w,o]),(0,i.jsx)(u.ls,{})};w.Layout=h.Z,n.default=w}},function(e){e.O(0,[774,816,221,132,946,363,421,867,888,179],(function(){return n=24234,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
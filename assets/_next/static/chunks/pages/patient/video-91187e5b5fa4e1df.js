(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{2616:function(t,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/patient/video",function(){return o(7712)}])},7712:function(t,n,o){"use strict";o.r(n);var e=o(5893),i=o(7294),c=o(5428),r=o(1117),a=o(1582),u=o(602),s=o(4291),f=o(1163),p=function(){var t=(0,a.R)(),n=t.user,o=t.visit,s=(0,c.Z)(),p=s.connect,v=s.room,h=(0,f.useRouter)();return(0,i.useEffect)((function(){v||u.G.checkRoom(n,o.roomName).then((function(t){t.roomAvailable||h.push("/patient/waiting-room"),p(t.token)}))}),[h,v]),(0,e.jsx)(r.ls,{})};p.Layout=s.ZP,n.default=p},602:function(t,n,o){"use strict";o.d(n,{G:function(){return i}});var e={backendRoot:"http://localhost:3000",token:{get:"/visit/token",validate:"/token/validate"},visits:{list:"/visits",get:"/visits/{id}",patientRoomToken:"/visit/room"},get:function(t){return"".concat(e.backendRoot).concat(t)}};var i={checkRoom:function(t,n){return fetch(e.get(e.visits.patientRoomToken),{method:"POST",body:JSON.stringify({room_name:n}),headers:{authorization:"Bearer ".concat(t.token),Accept:"application/json","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return t}))}}},1163:function(t,n,o){t.exports=o(387)}},function(t){t.O(0,[74,275,117,774,888,179],(function(){return n=2616,t(t.s=n);var n}));var n=t.O();_N_E=n}]);
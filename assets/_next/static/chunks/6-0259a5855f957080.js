"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{48357:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(85893),i=n(48847),a=function(e){var t=e.children,n=e.className,a=(0,i.WM)("bg-white shadow-card p-5",n);return(0,r.jsx)("div",{className:a,children:t})}},28836:function(e,t,n){n.d(t,{f:function(){return i}});var r=n(85893),i=function(e){var t=e.children;return(0,r.jsx)("h1",{className:"text-2xl text-primary whitespace-pre-wrap",children:t})}},55484:function(e,t,n){n.d(t,{r:function(){return f}});var r=n(85893),i=n(48847),a=n(56419),s=n(48357),l=n(28836),o=n(39716),c=n(11163),u=n(51502),d=n(1438),m={name:"Sarah Cooper",waitTime:"00:23:14",gender:"Female",language:"English",reasonForVisit:"I think I twisted my ankle earlier this week when I jumped down some stairs but I can't tell, I attached a photo",preexistingConditions:"I've had exercise-induced asthma since childhood, but nothing else.",currentMedications:"Albuterol, singulair, ibuprofen",translator:!1,files:[{name:"twisted_ankle_photo.jpg"}],roomName:"v-doe-jonson-1121"},f=function(e){var t=e.className,n=(0,c.useRouter)(),f=function(e){var t=e.label,n=e.value;return(0,r.jsxs)("li",{className:"my-4 text-xs",children:[(0,r.jsxs)("label",{className:"font-bold",children:[t,":"]}),(0,r.jsx)("div",{className:(0,i.WM)("text-dark",n.match(/\s/)?"":"inline-block ml-1"),children:n})]})};return(0,r.jsxs)(s.Z,{className:t,children:[(0,r.jsx)("div",{className:"font-bold text-xs",children:"Next Patient:"}),(0,r.jsx)(l.f,{children:m.name}),(0,r.jsxs)("div",{className:"font-bold text-light text-xs",children:["Wait Time: ",m.waitTime]}),(0,r.jsxs)("ul",{className:"pl-5",children:[(0,r.jsx)(f,{label:"Reason for Visit",value:m.reasonForVisit}),(0,r.jsx)(f,{label:"Gender",value:m.gender}),(0,r.jsx)(f,{label:"Language",value:m.language}),(0,r.jsx)(f,{label:"Translator",value:m.translator?"Yes":"No"}),(0,r.jsx)(f,{label:"Preexisting Conditions",value:m.preexistingConditions}),(0,r.jsx)(f,{label:"Current Medications",value:m.currentMedications}),m.files.length>0?(0,r.jsxs)("li",{children:[(0,r.jsx)("label",{className:"text-bold",children:"Attached Files:"}),m.files.map((function(e,t){return(0,r.jsxs)("a",{className:"flex rounded-lg my-3 border border-link py-3 px-4 text-link text-xs items-center cursor-pointer",download:!0,children:[(0,r.jsx)("span",{className:"flex-grow underline",children:e.name}),(0,r.jsx)(o.J,{name:"file_download",outline:!0})]},t)}))]}):(0,r.jsx)(f,{label:"Attached Files",value:"None"})]}),(0,r.jsx)("div",{className:"mt-5 text-center",children:(0,r.jsx)(a.z,{as:"button",onClick:function(){u.Z.saveToStorage(d.bo,m.roomName),n.push("/provider/video/")},children:"Start Visit"})})]})}},72006:function(e,t,n){n.d(t,{xs:function(){return y},JG:function(){return S},B2:function(){return C},Lb:function(){return E},Ar:function(){return O},bR:function(){return T},ls:function(){return X}});var r=n(85893),i=n(48847),a=n(56419),s=n(61321),l=n(67294),o=n(39716);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=function(e){var t=e.isDark,n=(0,l.useRef)(null),a=(0,l.useState)("none"),s=a[0],d=a[1],m=function(e){var n=e.className,a=void 0===n?null:n,l=e.name,o=void 0===l?null:l,m=u(e,["className","name"]);return(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({className:(0,i.WM)("flex items-center justify-center border rounded h-[70px] cursor-pointer",a,s===o?"border-link":t?"border-light":"border-black"),onClick:function(){return d(o)}},m))};return(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[(0,r.jsx)(m,{name:"none",children:"None"}),(0,r.jsx)(m,{name:"blur",children:"Blur"}),(0,r.jsx)(m,{name:"desk",className:"bg-cover bg-center",style:{backgroundImage:"url(/virtual-backgrounds/desk.jpg)"}}),(0,r.jsx)(m,{name:"mountains",className:"bg-cover bg-center",style:{backgroundImage:"url(/virtual-backgrounds/mountains.jpg)"}}),(0,r.jsx)(m,{name:"beach",className:"bg-cover bg-center",style:{backgroundImage:"url(/virtual-backgrounds/beach.jpg)"}}),(0,r.jsxs)(m,{name:"upload",children:[(0,r.jsxs)("a",{className:"flex items-center text-link text-xs",onClick:function(){return null===n||void 0===n?void 0:n.current.click()},children:[(0,r.jsx)(o.J,{name:"add"})," ",(0,r.jsx)("span",{className:"underline",children:"Upload"})]}),(0,r.jsx)("input",{ref:n,type:"file",className:"hidden"})]})]})},m=n(48318),f=n(73108),x=n(15428);var h=n(5909);function p(e){var t=new AudioContext,n=t.createMediaStreamSource(e),r=t.createAnalyser();return r.smoothingTimeConstant=.2,r.fftSize=256,n.connect(r),r}var b=function(e){var t=e.className,n=e.isMicOn,a=(0,x.Z)().localTracks.find((function(e){return"audio"===e.kind})),s=function(e){var t=(0,l.useState)(!!e&&e.isEnabled),n=t[0],r=t[1];return(0,l.useEffect)((function(){if(r(!!e&&e.isEnabled),e){var t=function(){return r(!0)},n=function(){return r(!1)};return e.on("enabled",t),e.on("disabled",n),function(){e.off("enabled",t),e.off("disabled",n)}}}),[e]),n}(a),o=(0,h.Z)(a),c=(0,l.useRef)(null),u=(0,l.useState)(0),d=u[0],b=u[1],v=(0,l.useState)(),g=v[0],j=v[1];return(0,l.useEffect)((function(){if(a&&o&&s&&n){var e=new MediaStream([o.clone()]),t=function(){return e.getTracks().forEach((function(e){return e.stop()}))};a.on("stopped",t);return j(p(e)),window.addEventListener("focus",(function(){t(),e=new MediaStream([o.clone()]),j(p(e))})),function(){t(),e=new MediaStream([o.clone()]),j(p(e))}}}),[a,o,s,n]),(0,l.useEffect)((function(){if(s&&c&&g&&n){var e=new Uint8Array(g.frequencyBinCount),t=(0,m.Z)((function(){g.getByteFrequencyData(e);for(var t=0,n=e.length,r=0;r<n;r++)t+=e[r];var i=Math.min(12,Math.max(0,7*Math.log10(t/n/3)));b(Math.floor(100*i/12))}),100);return function(){b(0),t.stop()}}}),[s,g,n]),(0,r.jsx)("div",{className:(0,i.WM)(t," space-x-2"),children:(0,r.jsx)(f.Z,{bgColor:"#34D399",labelColor:"#4B5563",height:"20px",labelAlignment:"left",borderRadius:"4px",maxCompleted:100,completed:"".concat(d),transitionDuration:"0.2s",customLabel:" "})})},v=function(e){var t=e.className,n=e.isDark,c=e.isCallInProgress,u=e.isRecording,m=e.toggleRecording,f=function(e){console.log(e.target.value)},x=(0,l.useState)([]),h=x[0],p=x[1],v=(0,l.useState)([]),g=v[0],j=v[1],y=(0,l.useState)([]),w=y[0],N=y[1],k=(0,l.useState)(!1),O=k[0],S=k[1];(0,l.useEffect)((function(){navigator.mediaDevices.enumerateDevices().then((function(e){var t=e.filter((function(e){return"videoinput"===e.kind})),n=e.filter((function(e,t,n){return"audioinput"===e.kind&&!e.label.includes("Virtual")})),r=e.filter((function(e){return"audiooutput"===e.kind&&!e.label.includes("Virtual")}));p(t),j(n),N(r)}))}),[O]);var P=function(e){var t=e.children;return(0,r.jsx)("label",{className:(0,i.WM)("my-2 text-xs block",n?"text-white":"text-dark"),children:t})};return(0,r.jsxs)("div",{className:(0,i.WM)(t),children:[(0,r.jsxs)("div",{className:"my-3",children:[(0,r.jsx)(P,{children:"Virtual Background"}),(0,r.jsx)(d,{isDark:n})]}),(0,r.jsxs)("div",{className:"my-3",children:[(0,r.jsx)(P,{children:"Camera"}),(0,r.jsx)(s.P,{isDark:n,onChange:f,className:"w-full",options:h.map((function(e){return{label:e.label?e.label:"System Default (Webcam)",value:e.deviceId}}))},"videoInput")]}),(0,r.jsxs)("div",{className:"my-3",children:[(0,r.jsx)(P,{children:"Voice Input Device:"}),(0,r.jsx)(s.P,{isDark:n,onChange:f,className:"w-full",options:g.map((function(e){return{label:e.label,value:e.deviceId}}))},"audioInput"),(0,r.jsx)("input",{className:"mt-4 w-full bg-primary",type:"range"})]}),(0,r.jsxs)("div",{className:"my-3",children:[(0,r.jsx)(P,{children:"Audio Output Device:"}),(0,r.jsx)(s.P,{isDark:n,onChange:f,className:"w-full",options:w.map((function(e){return{label:e.label,value:e.deviceId}}))},"audioOutput"),(0,r.jsx)("input",{className:"mt-4 w-full bg-primary",type:"range"})]}),c?(0,r.jsxs)("div",{className:"my-6 flex items-center",children:[(0,r.jsx)("div",{className:"pr-5 text-sm",children:"Recording:"}),(0,r.jsx)("div",{className:"flex-grow",children:(0,r.jsx)(a.z,{variant:u?a.W.primary:a.W.link,className:"w-full",onClick:m,children:u?"Stop Recording":"Start Recording"})})]}):(0,r.jsxs)("div",{className:"my-3 flex justify-center items-center space-x-5",children:[(0,r.jsxs)(a.z,{variant:a.W.tertiary,onClick:function(){S(!O),console.log(O)},outline:!0,className:"flex justify-center items-center space-x-2",children:["Test",(0,r.jsx)(o.J,{name:"mic"})]}),(0,r.jsx)(b,{className:"w-full",isMicOn:O})]}),(0,r.jsx)("div",{className:"my-5 font-bold text-center text-xs",children:"Saved to your Twilio account"})]})},g=n(48357),j=n(53352);var y=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t=(0,x.Z)().localTracks.find((function(e){return e.name.includes("camera")}));return(0,r.jsxs)(r.Fragment,{children:[t?(0,r.jsx)(j.Z,{track:t,isLocal:!0}):(0,r.jsx)("img",{src:"/provider.jpg",alt:"Provider",className:"border border-light"}),(0,r.jsx)(g.Z,{children:(0,r.jsx)(v,{})})]})},w=n(9783),N=function(e){var t=e.name,n=void 0===t?"Owl Health":t;return(0,r.jsx)("div",{className:"flex items-center justify-center h-16 w-full bg-white",children:(0,r.jsx)("div",{className:"font-bold text-2xl text-primary",children:n})})},k=n(57871),O=function(e){var t=e.children,n=e.title;return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{children:(0,r.jsx)(N,{})}),(0,r.jsxs)("div",{className:"max-w-screen-2xl mx-auto flex-grow",children:[n&&(0,r.jsx)(w.X,{children:n}),t]}),(0,r.jsx)("footer",{className:"pt-2 pb-5",children:(0,r.jsx)(k.O,{className:"mx-auto"})})]})},S=function(e){var t=e.children;return(0,r.jsx)(O,{children:(0,r.jsx)("div",{className:"flex flex-col justify-center min-h-full",children:(0,r.jsx)(g.Z,{className:"max-w-lg py-10",children:t})})})},P=n(28836),C=function(e){var t=e.className;return(0,r.jsxs)(g.Z,{className:t,children:[(0,r.jsx)(P.f,{children:"Content Management"}),(0,r.jsxs)("div",{className:"px-2",children:[(0,r.jsx)("p",{className:"mt-5 text-dark",children:"Select content you\u2019d like to play in the waiting room below:"}),(0,r.jsx)(s.P,{className:"block w-full my-3 mx-auto",options:[{value:"Content Set 1 (default)"}]})]})]})},I=n(48498),E=function(e){var t=e.className,n=(0,l.useState)(""),i=n[0],s=n[1];return(0,r.jsxs)(g.Z,{className:t,children:[(0,r.jsx)(P.f,{children:"Welcome, Dr. Santos"}),(0,r.jsxs)("div",{className:"px-5",children:[(0,r.jsx)("p",{className:"my-5 text-dark",children:"To invite someone to your room, we\u2019ll share a link via text. Input a phone number below."}),(0,r.jsx)(I.I,{className:"w-full",placeholder:"Phone Number",value:i,onChange:function(e){return s(e.target.value)}}),(0,r.jsx)("div",{className:"my-3 text-center",children:(0,r.jsx)(a.z,{variant:a.W.secondary,outline:!0,children:"Send Text Invite"})})]})]})},M=(n(55484),[{name:"Sarah Cooper",waitingTime:"00:23:14",reasonForVisit:"I think I twisted my ankle earlier this week when I jumped down some stairs but I can't tell, I attached a photo"},{name:"Green, Jakob",waitingTime:"00:19:32",reasonForVisit:"Nose running, think I have a fever but not really sure"},{name:"Owusu-Koramoah, Jeremiah",waitingTime:"00:12:54",reasonForVisit:"My shoulder has been bothering me and I'm can't raise it."},{name:"Harms, Alessandra",waitingTime:"00:11:03",reasonForVisit:"I have a headache that won't go away and a fever"},{name:"Harrison, D\u2019Andrea",waitingTime:"00:09:21",reasonForVisit:"Cut my finger with my pocket knife, got stuck in my finger"},{name:"Kim, Dae",waitingTime:"00:08:43",reasonForVisit:"My back hurts in the morning when I get out of bed"},{name:"Odenigbo, Lupita",waitingTime:"00:07:24",reasonForVisit:"Coughing a lot, want to know if it's allergies or not"},{name:"Washington, Lashawndrika",waitingTime:"00:06:42",reasonForVisit:"Have trouble with going to the bathroom, can we talk about it"},{name:"Velasquez, Rodrigo",waitingTime:"00:04:11",reasonForVisit:"There\u2019s this weird rash on my arm and I can't get rid of it"}]),T=function(e){var t=e.className;return(0,r.jsxs)(g.Z,{className:t,children:[(0,r.jsx)(P.f,{children:"Patient Queue"}),(0,r.jsxs)("div",{className:"px-1 py-2 grid grid-cols-2 gap-4 font-bold text-xs",children:[(0,r.jsx)("div",{children:"Patient"}),(0,r.jsx)("div",{children:"Reason For Visit:"})]}),M.map((function(e,t){return(0,r.jsxs)("div",{className:(0,i.WM)("grid grid-cols-2 gap-4 font-bold text-xs px-1 py-2",t%2?"":"bg-[#FAFAFA]"),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("a",{className:"text-link underline",children:e.name}),(0,r.jsxs)("div",{className:"font-bold text-light",children:["Waiting ",e.waitingTime]})]}),(0,r.jsx)("div",{className:"line-clamp-2 overflow-ellipsis overflow-hidden text-dark",children:e.reasonForVisit})]},t)}))]})},V=n(4051),F=n(63020),D=n(49738),R=n(67872),W=n(66441);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}var z=function(e){var t=e.children,n=e.close,i=e.referenceElement,a=e.isVisible,s=(0,l.useState)(null),o=s[0],c=s[1],u=(0,W.D)(i,o,{placement:"top-end"}),d=u.styles,m=u.attributes;return a&&(0,r.jsx)("div",{className:"fixed inset-0 z-50",onClick:function(){return n()},children:(0,r.jsx)("div",Z({className:"bg-[#000000BF] text-white border border-dark rounded",ref:c,style:d.popper,onClick:function(e){e.stopPropagation()}},m.popper,{children:t}))})};function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var B=function(e){var t=e.close,n=_(e,["close"]),i=(0,l.useState)("SMS"),o=i[0],c=i[1],u=(0,l.useState)(""),d=u[0],m=u[1];return(0,r.jsxs)(z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){J(e,t,n[t])}))}return e}({},n,{close:t,children:[(0,r.jsx)("div",{className:"border-b border-border-primary",children:(0,r.jsx)("h3",{className:"my-3 px-3",children:"Invite to Visit"})}),(0,r.jsxs)("form",{className:"p-3",onSubmit:function(e){e.preventDefault(),console.log(o,d),m(""),t()},children:[(0,r.jsx)("div",{className:"mb-3 font-bold text-xs",children:"Invite Via"}),(0,r.jsx)(s.P,{className:"mr-2",isDark:!0,options:[{value:"SMS"}],value:o,onChange:function(e){return c(e.target.value)}}),(0,r.jsx)(I.I,{className:"mx-2",isDark:!0,placeholder:"Phone Number",value:d,onChange:function(e){return m(e.target.value)}}),(0,r.jsx)(a.z,{type:"submit",onClick:t,children:"Invite"})]})]}))};function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var U=function(e){var t=e.close,n=e.isRecording,i=e.toggleRecording,a=H(e,["close","isRecording","toggleRecording"]);return(0,r.jsxs)(z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){L(e,t,n[t])}))}return e}({},a,{close:t,children:[(0,r.jsx)("div",{className:"border-b border-border-primary",children:(0,r.jsx)("h3",{className:"my-3 px-3",children:"Settings"})}),(0,r.jsx)(v,{className:"text-white px-8",isDark:!0,isCallInProgress:!0,isRecording:n,toggleRecording:i})]}))},q=n(65398),G=function(e){var t=e.name,n=e.hasAudio,a=e.hasVideo,s=e.isProvider,c=e.isSelf,u=e.participant,d=(0,l.useState)(null),m=d[0],f=d[1],x=(0,l.useState)(null),h=x[0],p=x[1],b=(0,l.useState)(!1),v=b[0],g=b[1],j=(0,l.useState)(!n),y=j[0],w=j[1],N=(0,l.useState)(a),k=N[0],O=N[1],S=s?"w-[405px]":"w-[685px]",P=s?"h-[234px]":"max-h-100%";return(0,l.useEffect)((function(){f(null!==m&&!y);var e=setTimeout((function(){f(!1)}),3e3);return function(){return clearTimeout(e)}}),[y,m]),(0,l.useEffect)((function(){w(!n)}),[n]),(0,l.useEffect)((function(){O(a)}),[a]),(0,r.jsxs)("div",{className:"mx-auto relative w-max group",children:[!c&&(0,r.jsxs)("div",{className:"absolute top-0 h-[100px] text-right w-full flex justify-end group-hover:bg-gradient-to-b from-[#000000B0] via-[#00000000] to-[#00000000] z-10",children:[(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:(0,i.WM)("-mt-1 rotate-45 p-2",v?"text-primary":"hidden"),onClick:function(){return g(!v)},children:(0,r.jsx)(o.J,{name:"push_pin",outline:!v})})}),(0,r.jsxs)("div",{className:(0,i.WM)("hidden group-hover:block"),children:[(0,r.jsx)("button",{className:(0,i.WM)("-mt-1 border-0 bg-transparent px-1"),onClick:function(e){return p(e.target)},children:(0,r.jsx)(o.J,{className:"text-white text-4xl",name:"more_horiz"})}),(0,r.jsx)(z,{referenceElement:h,isVisible:!!h,close:function(){return p(null)},children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{className:"m-2",children:(0,r.jsxs)("button",{className:"w-full text-left",type:"button",onClick:function(){return g(!v)},children:[v?"Unpin":"Pin"," Participant"]})}),(0,r.jsx)("li",{className:"border-t border-dark"}),(0,r.jsx)("li",{className:"m-2",children:(0,r.jsxs)("button",{className:"w-full text-left",type:"button",onClick:function(){return w(!y)},children:[y?"Unmute":"Mute"," participant"]})}),(0,r.jsx)("li",{className:"m-2",children:(0,r.jsxs)("button",{className:"w-full text-left",type:"button",onClick:function(){return O(!k)},children:["Turn ",k?"off":"on"," participant video"]})})]})})]})]}),m&&(0,r.jsx)("div",{className:"absolute top-0 bottom-0 left--2 right--2 flex items-center justify-center w-full",children:(0,r.jsx)("div",{className:"bg-[#000000BF] text-white h-min text-center flex-grow py-4",children:"You have been muted"})}),(0,r.jsxs)("div",{className:"relative flex items-center justify-center bg-dark text-white text-2xl overflow-hidden ".concat(P," ").concat(S),children:[!k&&(0,r.jsx)("div",{className:"absolute inset-0 bg-dark text-white flex items-center justify-center",children:t}),(0,r.jsx)(q.Z,{participant:u,videoOnly:!1,enableScreenShare:!1,videoPriority:"high",isLocalParticipant:c})]}),(0,r.jsxs)("div",{className:"absolute top-0 left-0 w-max z-50 text-white bg-[#00000082] px-2 py-1 flex items-center",children:[(0,r.jsx)(o.J,{className:(0,i.WM)("text-md",y&&"text-primary"),name:"mic"}),k?!c&&t:(0,r.jsx)(o.J,{className:"text-md text-primary",name:"videocam_off"})]})]})},K=n(610),Y=n(51582);function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t=(0,l.useState)(!0),n=t[0],a=t[1],s=(0,l.useState)(!0),o=s[0],c=s[1],u=(0,l.useState)(!1),d=u[0],m=u[1],f=(0,l.useState)(null),h=f[0],p=f[1],b=(0,l.useState)(null),v=b[0],g=b[1],j=(0,l.useState)(!1),y=j[0],w=j[1],N=(0,V.Z)(),O=(0,K.Z)(),S=O.setIsChatWindowOpen,P=O.isChatWindowOpen,C=(0,Y.R)().user,I=(0,x.Z)().room,E=(0,l.useState)({patientName:null,providerName:null,patientParticipant:null,providerParticipant:null}),M=E[0],T=E[1];return(0,l.useEffect)((function(){I&&T((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Q(e,t,n[t])}))}return e}({},e,{providerParticipant:I.localParticipant,patientParticipant:N.find((function(e){return e.identity!=I.localParticipant.identity}))})}))}),[N,I]),(0,l.useEffect)((function(){M.providerParticipant&&M.providerParticipant.videoTracks.forEach((function(e){o?e.track.enable():e.track.disable()}))}),[o]),(0,l.useEffect)((function(){M.providerParticipant&&M.providerParticipant.audioTracks.forEach((function(e){n?e.track.enable():e.track.disable()}))}),[n]),(0,r.jsxs)("div",{className:"relative h-full",children:[(0,r.jsx)("h1",{className:"absolute text-white text-2xl font-bold top-10 left-32",children:"Owl Health"}),(0,r.jsxs)("div",{className:(0,i.WM)("bg-secondary flex flex-col h-full items-center",d?"border-[10px] border-primary":"p-[10px]"),children:[(0,r.jsx)("div",{className:"flex-grow",children:(0,r.jsxs)("div",{className:"flex flex-col justify-evenly h-full mt-20",children:[M.patientParticipant&&(0,r.jsx)(G,{name:"Sarah Coopers",hasAudio:!0,hasVideo:!0,participant:M.patientParticipant}),(0,r.jsx)("div",{className:"absolute top-20 right-10",children:M.providerParticipant&&(0,r.jsx)(G,{name:"Dr. Josefina Santos",hasAudio:n,hasVideo:o,isProvider:!0,isSelf:!0,participant:M.providerParticipant})})]})}),(0,r.jsx)(R.H,{containerClass:"absolute bottom-16 mb-5 bg-[#FFFFFF4A] rounded-lg",addParticipant:function(e){return p(h?null:null===e||void 0===e?void 0:e.target)},toggleAudio:function(){return a(!n)},toggleChat:function(){return S(!P)},toggleScreenShare:function(){},toggleSettings:function(e){return g(v?null:null===e||void 0===e?void 0:e.target)},toggleVideo:function(){return c(!o)}}),(0,r.jsx)("div",{className:"mt-1 mb-3",children:(0,r.jsx)(k.O,{inverted:!0})})]}),P&&(0,r.jsx)("div",{className:"absolute bottom-0 right-10 max-w-[405px] w-full max-h-[400px] h-full",children:(0,r.jsx)(F.e,{close:function(){return S(!1)},userName:C.name,userRole:C.role,showHeader:!0,inputPlaceholder:"Message Sarah Cooper"})}),(0,r.jsx)(D.N,{close:function(){return w(!1)},isVisible:y}),(0,r.jsx)(B,{referenceElement:h,close:function(){return p(null)},isVisible:!!h}),(0,r.jsx)(U,{referenceElement:v,close:function(){return g(null)},isRecording:d,isVisible:!!v,toggleRecording:function(){return m(!d)}})]})}}}]);